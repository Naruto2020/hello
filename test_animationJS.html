<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="test0.css" />
    <title>test 3</title>
    <style>
      body {
        max-width: 100vw;
        overflow-y: hidden;
      }
      div {
        box-sizing: border-box;
        background-color: chartreuse;
        width: 100px;
        height: 100px;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div style="top: 0px; left: 0px;"></div>
    <div style="top: 150px; left: 0px; border-radius: 0px;"></div>
    <div style="top: 450px; left: 0px; border-radius: 0px;"></div>

    <script>
      (function () {
        var element = document.querySelector("div");
        var larEcran = window.innerWidth;
        var hauEcran = window.innerHeight;
        var largB = 100;
        var hautB = 100;
        var depX = 10;
        var depY = 5;
        var intervalId;
        intervalID = window.setInterval(function () {
          var gauch = parseFloat(element.style.left);
          var droit = gauch + largB; // 100 = large box
          var haut = parseFloat(element.style.top);
          var bas = haut + hautB; // 100 = hauteur box
          if (gauch + depX <= 0 || droit + depX >= larEcran) {
            depX = -depX;
          } else if (haut + depY <= 0 || bas + depY >= hauEcran) {
            depY = -depY;
          } else {
            element.style.left = gauch + depX + "px";
            element.style.top = haut + depY + "px";
          }
        }, 100);
        // })();

        //(function () {
        var divs = document.querySelectorAll("div");
        var element1 = divs[1];
        var larEcran = window.innerWidth;
        var hautEcran = window.innerHeight;
        var mouvX = 20;
        var mouvY = 5;
        var intervalID1;
        intervalID1 = window.setInterval(function () {
          var largB = 100;
          var hautb = 100;
          var coteG = parseFloat(element1.style.left);
          var coteD = coteG + largB;
          var coteT = parseFloat(element1.style.top);
          var coteB = coteT + hautB;
          //var top2 = top1 + 80;

          // element1.style.borderRadius =
          //  parseFloat(element1.style.borderRadius) + 1 + "px";

          if (coteD + mouvX >= larEcran || coteG + mouvX <= 0) {
            mouvX = -mouvX;
          } else if (coteB + mouvY >= hautEcran || coteT + mouvY <= 0) {
            mouvY = -mouvY;
          }

          element1.style.left = coteG + mouvX + "px";
          element1.style.top = coteT + mouvY + "px";
        }, 200);
      })();

      (function () {
        var divs = document.querySelectorAll("div");
        var element2 = divs[2];
        var larEcran = window.innerWidth;
        var hauEcran = window.innerHeight;
        var deplX = 12;
        var intervalID;
        intervalID = setInterval(function () {
          var lar = 100;
          var hau = 100;
          var bordG = parseFloat(element2.style.left);
          var bordD = bordG + lar;
          var haut1 = parseFloat(element2.style.top);
          var bas1 = haut1 + hau;
          element2.style.borderRadius =
            parseFloat(element2.style.borderRadius) + 0.5 + "px";

          if (bordD + deplX >= larEcran) {
            clearInterval(intervalID);
          } else {
            element2.style.left = bordG + deplX + "px";
          }
        }, 200);
      })();

      // creation d'un element et manipulation dans le DOM
      (function () {
        var larEcran = window.innerWidth;
        hauEcran = window.innerHeight;
        var element3 = document.createElement("div");
        element3.setAttribute("id", "element3");
        document.body.appendChild(element3);
        element3.style = "position: absolute; left:0px; top:620px;";
        element3.style.backgroundColor = "red";

        var deplacementX = 10;
        var deplacementY = 10;

        window.onkeydown = function (event) {
          var code = event.keyCode;
          switch (code) {
            case 37:
              var coteL = parseInt(element3.style.left);
              element3.style.left = coteL - deplacementX + "px";
              alert("gauche");

              break;
            case 38:
              var coteT = parseInt(element3.style.top);
              element3.style.top = coteT - deplacementY + "px";
              alert("haut");

              break;
            case 39:
              var coteL = parseInt(element3.style.left);
              element3.style.left = coteL + deplacementX + "px";
              alert("droite");
              break;
            case 40:
              var coteT = parseInt(element3.style.top);
              element3.style.top = coteT + deplacementY + "px";
              alert("bas");

            default:
              break;
          }
        };
      })();
    </script>
  </body>
</html>
